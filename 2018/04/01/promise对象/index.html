<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/blog/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/blog/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/blog/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/blog/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/blog/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/blog/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/blog/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="ES6," />










<meta name="description" content="è®¤è¯†Pormise1ã€Promise æ˜¯å¼‚æ­¥ç¼–ç¨‹çš„ä¸€ç§è§£å†³æ–¹æ¡ˆï¼Œæ¯”ä¼ ç»Ÿçš„è§£å†³æ–¹æ¡ˆâ€”â€”å›è°ƒå‡½æ•°å’Œäº‹ä»¶â€”â€”æ›´åˆç†å’Œæ›´å¼ºå¤§ï¼ŒPromiseæœ¬èº«æ˜¯ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œä½¿ç”¨new åˆ›å»ºPromiseå¯¹è±¡ï¼›2ã€Promise ç®€å•è¯´å°±æ˜¯ä¸€ä¸ªå®¹å™¨,é‡Œé¢ä¿å­˜ç€æŸä¸ªæœªæ¥æ‰ä¼šç»“æŸçš„äº‹ä»¶ï¼ˆé€šå¸¸æ˜¯ä¸€ä¸ªå¼‚æ­¥æ“ä½œï¼‰çš„ç»“æœ3ã€ä¸€ä¸ª Promiseæœ‰ä»¥ä¸‹å‡ ç§çŠ¶æ€:  pending: åˆå§‹çŠ¶æ€ï¼Œæ—¢ä¸æ˜¯æˆåŠŸï¼Œä¹Ÿä¸æ˜¯å¤±è´¥çŠ¶æ€ã€‚ fulfi">
<meta name="keywords" content="ES6">
<meta property="og:type" content="article">
<meta property="og:title" content="promiseå¯¹è±¡">
<meta property="og:url" content="https://charlotte007.github.io/blog/2018/04/01/promiseå¯¹è±¡/index.html">
<meta property="og:site_name" content="TigerZçš„ä¸ªäººæŠ€æœ¯åšå®¢">
<meta property="og:description" content="è®¤è¯†Pormise1ã€Promise æ˜¯å¼‚æ­¥ç¼–ç¨‹çš„ä¸€ç§è§£å†³æ–¹æ¡ˆï¼Œæ¯”ä¼ ç»Ÿçš„è§£å†³æ–¹æ¡ˆâ€”â€”å›è°ƒå‡½æ•°å’Œäº‹ä»¶â€”â€”æ›´åˆç†å’Œæ›´å¼ºå¤§ï¼ŒPromiseæœ¬èº«æ˜¯ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œä½¿ç”¨new åˆ›å»ºPromiseå¯¹è±¡ï¼›2ã€Promise ç®€å•è¯´å°±æ˜¯ä¸€ä¸ªå®¹å™¨,é‡Œé¢ä¿å­˜ç€æŸä¸ªæœªæ¥æ‰ä¼šç»“æŸçš„äº‹ä»¶ï¼ˆé€šå¸¸æ˜¯ä¸€ä¸ªå¼‚æ­¥æ“ä½œï¼‰çš„ç»“æœ3ã€ä¸€ä¸ª Promiseæœ‰ä»¥ä¸‹å‡ ç§çŠ¶æ€:  pending: åˆå§‹çŠ¶æ€ï¼Œæ—¢ä¸æ˜¯æˆåŠŸï¼Œä¹Ÿä¸æ˜¯å¤±è´¥çŠ¶æ€ã€‚ fulfi">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="https://charlotte007.github.io/blog/2018/04/01/promiseå¯¹è±¡/promises.png">
<meta property="og:image" content="https://charlotte007.github.io/blog/2018/04/01/promiseå¯¹è±¡/eventloop.png">
<meta property="og:updated_time" content="2018-04-15T11:54:24.546Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="promiseå¯¹è±¡">
<meta name="twitter:description" content="è®¤è¯†Pormise1ã€Promise æ˜¯å¼‚æ­¥ç¼–ç¨‹çš„ä¸€ç§è§£å†³æ–¹æ¡ˆï¼Œæ¯”ä¼ ç»Ÿçš„è§£å†³æ–¹æ¡ˆâ€”â€”å›è°ƒå‡½æ•°å’Œäº‹ä»¶â€”â€”æ›´åˆç†å’Œæ›´å¼ºå¤§ï¼ŒPromiseæœ¬èº«æ˜¯ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œä½¿ç”¨new åˆ›å»ºPromiseå¯¹è±¡ï¼›2ã€Promise ç®€å•è¯´å°±æ˜¯ä¸€ä¸ªå®¹å™¨,é‡Œé¢ä¿å­˜ç€æŸä¸ªæœªæ¥æ‰ä¼šç»“æŸçš„äº‹ä»¶ï¼ˆé€šå¸¸æ˜¯ä¸€ä¸ªå¼‚æ­¥æ“ä½œï¼‰çš„ç»“æœ3ã€ä¸€ä¸ª Promiseæœ‰ä»¥ä¸‹å‡ ç§çŠ¶æ€:  pending: åˆå§‹çŠ¶æ€ï¼Œæ—¢ä¸æ˜¯æˆåŠŸï¼Œä¹Ÿä¸æ˜¯å¤±è´¥çŠ¶æ€ã€‚ fulfi">
<meta name="twitter:image" content="https://charlotte007.github.io/blog/2018/04/01/promiseå¯¹è±¡/promises.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/blog/',
    scheme: 'Gemini',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'åšä¸»'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://charlotte007.github.io/blog/2018/04/01/promiseå¯¹è±¡/"/>





  <title>promiseå¯¹è±¡ | TigerZçš„ä¸ªäººæŠ€æœ¯åšå®¢</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/blog/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">TigerZçš„ä¸ªäººæŠ€æœ¯åšå®¢</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/blog/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            é¦–é¡µ
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/blog/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            æ ‡ç­¾
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/blog/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            å½’æ¡£
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://charlotte007.github.io/blog/blog/2018/04/01/promiseå¯¹è±¡/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="TigerZ">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/blog/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="TigerZçš„ä¸ªäººæŠ€æœ¯åšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">promiseå¯¹è±¡</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-04-01T23:12:13+08:00">
                2018-04-01
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h3 id="è®¤è¯†Pormise"><a href="#è®¤è¯†Pormise" class="headerlink" title="è®¤è¯†Pormise"></a>è®¤è¯†Pormise</h3><p>1ã€Promise æ˜¯<code>å¼‚æ­¥ç¼–ç¨‹</code>çš„ä¸€ç§è§£å†³æ–¹æ¡ˆï¼Œæ¯”ä¼ ç»Ÿçš„è§£å†³æ–¹æ¡ˆâ€”â€”å›è°ƒå‡½æ•°å’Œäº‹ä»¶â€”â€”æ›´åˆç†å’Œæ›´å¼ºå¤§ï¼ŒPromiseæœ¬èº«æ˜¯ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œä½¿ç”¨new åˆ›å»ºPromiseå¯¹è±¡ï¼›<br>2ã€Promise ç®€å•è¯´å°±æ˜¯ä¸€ä¸ªå®¹å™¨,é‡Œé¢ä¿å­˜ç€æŸä¸ªæœªæ¥æ‰ä¼šç»“æŸçš„äº‹ä»¶ï¼ˆé€šå¸¸æ˜¯ä¸€ä¸ªå¼‚æ­¥æ“ä½œï¼‰çš„ç»“æœ<br>3ã€ä¸€ä¸ª Promiseæœ‰ä»¥ä¸‹å‡ ç§çŠ¶æ€:</p>
<ul>
<li>pending: åˆå§‹çŠ¶æ€ï¼Œæ—¢ä¸æ˜¯æˆåŠŸï¼Œä¹Ÿä¸æ˜¯å¤±è´¥çŠ¶æ€ã€‚</li>
<li>fulfilled: æ„å‘³ç€æ“ä½œæˆåŠŸå®Œæˆã€‚</li>
<li>rejected: æ„å‘³ç€æ“ä½œå¤±è´¥ã€‚</li>
</ul>
<p>pending çŠ¶æ€çš„ Promise å¯¹è±¡å¯èƒ½è§¦å‘fulfilled çŠ¶æ€å¹¶ä¼ é€’ä¸€ä¸ªå€¼ç»™ç›¸åº”çš„çŠ¶æ€å¤„ç†æ–¹æ³•ï¼Œä¹Ÿå¯èƒ½è§¦å‘å¤±è´¥çŠ¶æ€ï¼ˆrejectedï¼‰å¹¶ä¼ é€’å¤±è´¥ä¿¡æ¯ã€‚å½“å…¶ä¸­ä»»ä¸€ç§æƒ…å†µå‡ºç°æ—¶ï¼ŒPromise å¯¹è±¡çš„ then æ–¹æ³•ç»‘å®šçš„å¤„ç†æ–¹æ³•ï¼ˆhandlers ï¼‰å°±ä¼šè¢«è°ƒç”¨ï¼ˆthenæ–¹æ³•åŒ…å«ä¸¤ä¸ªå‚æ•°ï¼šonfulfilled å’Œ onrejectedï¼Œå®ƒä»¬éƒ½æ˜¯ Function ç±»å‹ã€‚å½“PromiseçŠ¶æ€ä¸ºfulfilledæ—¶ï¼Œè°ƒç”¨ then çš„ onfulfilled æ–¹æ³•ï¼Œå½“PromiseçŠ¶æ€ä¸ºrejectedæ—¶ï¼Œè°ƒç”¨ then çš„ onrejected æ–¹æ³•ï¼Œ æ‰€ä»¥åœ¨å¼‚æ­¥æ“ä½œçš„å®Œæˆå’Œç»‘å®šå¤„ç†æ–¹æ³•ä¹‹é—´ä¸å­˜åœ¨ç«äº‰ï¼‰ã€‚</p>
<p>å› ä¸º <code>Promise.prototype.then</code> å’Œ  <code>Promise.prototype.catch</code> æ–¹æ³•è¿”å›promise å¯¹è±¡ï¼Œ æ‰€ä»¥å®ƒä»¬å¯ä»¥è¢«é“¾å¼è°ƒç”¨ã€‚<br><img src="/blog/2018/04/01/promiseå¯¹è±¡/promises.png"><br><code>å¦‚æœä¸€ä¸ªpromiseå¯¹è±¡å¤„åœ¨fulfilledæˆ–rejectedçŠ¶æ€è€Œä¸æ˜¯pendingçŠ¶æ€ï¼Œé‚£ä¹ˆå®ƒä¹Ÿå¯ä»¥è¢«ç§°ä¸ºsettledçŠ¶æ€ã€‚å¸¸è§çš„resolved ï¼Œå®ƒè¡¨ç¤ºpromiseå¯¹è±¡å¤„äºfulfilledçŠ¶æ€ï¼Œæ–¹ä¾¿ä¸ resolve(value)å¯¹åº”</code></p>
<p>4ã€Promiseå¯¹è±¡çš„ç‰¹ç‚¹ï¼š</p>
<ul>
<li>å¯¹è±¡çš„çŠ¶æ€ä¸å—å¤–ç•Œå½±å“ã€‚Promiseå¯¹è±¡ä»£è¡¨ä¸€ä¸ªå¼‚æ­¥æ“ä½œï¼Œåªæœ‰å¼‚æ­¥æ“ä½œçš„ç»“æœï¼Œå¯ä»¥å†³å®šå½“å‰æ˜¯å“ªä¸€ç§çŠ¶æ€ï¼Œä»»ä½•å…¶ä»–æ“ä½œéƒ½æ— æ³•æ”¹å˜è¿™ä¸ªçŠ¶æ€</li>
<li>ä¸€æ—¦çŠ¶æ€æ”¹å˜ï¼Œå°±ä¸ä¼šå†å˜ï¼Œä»»ä½•æ—¶å€™éƒ½å¯ä»¥å¾—åˆ°è¿™ä¸ªç»“æœ</li>
<li>é“¾å¼è°ƒç”¨ï¼ŒPromise.prototype.then å’Œ Promise.prototype.catch æ–¹æ³•è¿”å›promise å¯¹è±¡</li>
</ul>
<p>5ã€Promiseä¹Ÿæœ‰ä¸€äº›ç¼ºç‚¹ï¼š</p>
<ul>
<li>æ— æ³•å–æ¶ˆPromiseï¼Œä¸€æ—¦æ–°å»ºå®ƒå°±ä¼šç«‹å³æ‰§è¡Œï¼Œæ— æ³•ä¸­é€”å–æ¶ˆã€‚</li>
<li>å¦‚æœä¸è®¾ç½®å›è°ƒå‡½æ•°ï¼ŒPromiseå†…éƒ¨çš„é”™è¯¯ä¸ä¼šååº”åˆ°å¤–éƒ¨ã€‚</li>
<li>å½“å¤„äºæœªå®Œæˆæ€æ—¶ï¼Œæ— æ³•å¾—çŸ¥ç›®å‰è¿›å±•åˆ°å“ªä¸€ä¸ªé˜¶æ®µã€‚</li>
</ul>
<p>6ã€æŒ‰ç…§ç”¨é€”è§£é‡Šï¼š</p>
<ul>
<li>ä¸»è¦ç”¨äºå¼‚æ­¥è®¡ç®—</li>
<li>å¯ä»¥å°†å¼‚æ­¥æ“ä½œé˜Ÿåˆ—åŒ–ï¼ŒæŒ‰ç…§æœŸæœ›çš„é¡ºåºæ‰§è¡Œï¼Œè¿”å›ç¬¦åˆé¢„æœŸçš„ç»“æœ</li>
<li>å¯ä»¥åœ¨å¯¹è±¡ä¹‹é—´ä¼ é€’å’Œæ“ä½œPromiseï¼Œå¸®åŠ©æˆ‘ä»¬å¤„ç†é˜Ÿåˆ—</li>
</ul>
<h3 id="ä¸ºä»€ä¹ˆä¼šæœ‰promiseï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆä¼šæœ‰promiseï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆä¼šæœ‰promiseï¼Ÿ"></a>ä¸ºä»€ä¹ˆä¼šæœ‰promiseï¼Ÿ</h3><ul>
<li>å¸¸è§çš„å¼‚æ­¥æ“ä½œï¼Œäº‹ä»¶ï¼Œå›è°ƒå‡½æ•°ï¼ˆajax fileAPIï¼‰</li>
<li>å›è°ƒåœ°ç‹±,éš¾ä»¥ç»´æŠ¤<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">a(function(resultFromA)&#123;</span><br><span class="line">    b(resultFromA,function(resultFromB)&#123;</span><br><span class="line">        c(resultFromB,function(resultFromC)&#123;</span><br><span class="line">            console.log(resultFromC);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="PormiseåŸºæœ¬ç”¨æ³•"><a href="#PormiseåŸºæœ¬ç”¨æ³•" class="headerlink" title="PormiseåŸºæœ¬ç”¨æ³•"></a>PormiseåŸºæœ¬ç”¨æ³•</h3><p>Promiseå¯¹è±¡æ˜¯ä¸€ä¸ª<code>æ„é€ å‡½æ•°</code>ï¼Œç”¨æ¥ç”ŸæˆPromiseå®ä¾‹ï¼Œä½¿ç”¨newåˆ›å»ºpromiseçš„å®ä¾‹<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> promise = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve, reject</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// ... some code</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (<span class="comment">/* å¼‚æ­¥æ“ä½œæˆåŠŸ */</span>)&#123;</span><br><span class="line">    resolve(value);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    reject(error);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">promise.then(<span class="function"><span class="keyword">function</span>(<span class="params">value</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// success</span></span><br><span class="line">&#125;, <span class="function"><span class="keyword">function</span>(<span class="params">error</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// failure</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>
<p>Promiseæ„é€ å‡½æ•°æ¥å—ä¸€ä¸ª<code>å‡½æ•°ä½œä¸ºå‚æ•°</code>,è¯¥å‡½æ•°çš„ä¸¤ä¸ªå‚æ•°åˆ†åˆ«æ˜¯<code>resolve</code>å’Œ<code>reject</code>ã€‚å®ƒä»¬æ˜¯<code>ä¸¤ä¸ªå‡½æ•°</code>ï¼Œç”± JavaScript å¼•æ“æä¾›ï¼Œä¸ç”¨è‡ªå·±éƒ¨ç½²ã€‚</p>
<pre><code>resolveå‡½æ•°çš„ä½œç”¨æ˜¯ï¼Œå°†Promiseå¯¹è±¡çš„çŠ¶æ€ä»â€œæœªå®Œæˆâ€å˜ä¸ºâ€œæˆåŠŸâ€ï¼ˆå³ä» pending å˜ä¸º resolvedï¼‰ï¼Œåœ¨å¼‚æ­¥æ“ä½œæˆåŠŸæ—¶è°ƒç”¨ï¼Œå¹¶å°†å¼‚æ­¥æ“ä½œçš„ç»“æœï¼Œä½œä¸ºå‚æ•°ä¼ é€’å‡ºå»ï¼›
rejectå‡½æ•°çš„ä½œç”¨æ˜¯ï¼Œå°†Promiseå¯¹è±¡çš„çŠ¶æ€ä»â€œæœªå®Œæˆâ€å˜ä¸ºâ€œå¤±è´¥â€ï¼ˆå³ä» pending å˜ä¸º rejectedï¼‰ï¼Œåœ¨å¼‚æ­¥æ“ä½œå¤±è´¥æ—¶è°ƒç”¨ï¼Œå¹¶å°†å¼‚æ­¥æ“ä½œæŠ¥å‡ºçš„é”™è¯¯ï¼Œä½œä¸ºå‚æ•°ä¼ é€’å‡ºå»ã€‚
</code></pre><p>thenæ–¹æ³•å¯ä»¥æ¥å—ä¸¤ä¸ªå›è°ƒå‡½æ•°ä½œä¸ºå‚æ•°ã€‚</p>
<pre><code>ç¬¬ä¸€ä¸ªå›è°ƒå‡½æ•°æ˜¯Promiseå¯¹è±¡çš„çŠ¶æ€å˜ä¸ºresolvedæ—¶è°ƒç”¨;
ç¬¬äºŒä¸ªå›è°ƒå‡½æ•°æ˜¯Promiseå¯¹è±¡çš„çŠ¶æ€å˜ä¸ºrejectedæ—¶è°ƒç”¨ã€‚å…¶ä¸­ï¼Œç¬¬äºŒä¸ªå‡½æ•°æ˜¯å¯é€‰çš„ï¼Œä¸ä¸€å®šè¦æä¾›ã€‚è¿™ä¸¤ä¸ªå‡½æ•°éƒ½æ¥å—Promiseå¯¹è±¡ä¼ å‡ºçš„å€¼ä½œä¸ºå‚æ•°ã€‚
</code></pre><h3 id="PromiseåŸå‹ä¸Šå¸¸è§çš„æ–¹æ³•"><a href="#PromiseåŸå‹ä¸Šå¸¸è§çš„æ–¹æ³•" class="headerlink" title="PromiseåŸå‹ä¸Šå¸¸è§çš„æ–¹æ³•"></a>PromiseåŸå‹ä¸Šå¸¸è§çš„æ–¹æ³•</h3><ul>
<li>Promise.prototype.then(onFulfilled, onRejected)<br>  æ·»åŠ è§£å†³(fulfillment)å’Œæ‹’ç»(rejection)å›è°ƒåˆ°å½“å‰ promise, è¿”å›ä¸€ä¸ªæ–°çš„ promise, å°†ä»¥å›è°ƒçš„è¿”å›å€¼æ¥resolve.<ul>
<li>çŠ¶æ€å“åº”å¼å‡½æ•°ï¼Œå¯ä»¥è¿”å›æ–°çš„pormiseï¼Œæˆ–è€…å…¶å®ƒå€¼ ï¼ˆresolve reject return é»˜è®¤undefinedï¼‰</li>
<li>è‹¥æœè¿”å›æ–°çš„promiseï¼Œé‚£ä¹ˆä¸‹ä¸€çº§çš„then ä¼šåœ¨<code>æ–°Promise</code>çŠ¶æ€æ”¹å˜åæ‰§è¡Œ</li>
<li>å¦‚æœè¿”å›å…¶ä»–å€¼ï¼Œåˆ™ç«‹å³ä¼šè¿›å…¥ä¸‹ä¸€çº§çš„.then()</li>
</ul>
</li>
</ul>
<p>.then() çš„åµŒå¥—ä½¿ç”¨</p>
<ul>
<li>å› ä¸º.then() è¿”å›çš„è¿˜æ˜¯ Promiseå®ä¾‹ï¼Œ </li>
<li>ä¼šç­‰åˆ°é‡Œé¢çš„ .then()æ‰§è¡Œå®Œæ¯•åï¼Œå†æ‰§è¡Œå¤–é¢çš„.then(), </li>
<li>æ–¹æ³•å°±æ˜¯, ç›´æ¥å±•å¼€å†…éƒ¨çš„ .then()æŒ‰ç…§é¡ºåºï¼Œé“¾å¼ç»„è£….then()<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="params">resolve</span> =&gt;</span> &#123; <span class="comment">// [promise 1]</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'step 1'</span>);</span><br><span class="line">    setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        resolve(<span class="number">100</span>);</span><br><span class="line">    &#125;,<span class="number">1000</span>);</span><br><span class="line">&#125;).then(<span class="function"><span class="params">value</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="params">resolve</span> =&gt;</span> &#123;  <span class="comment">// [promise 2]</span></span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'step 1-1'</span>);</span><br><span class="line">        setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            resolve(<span class="number">110</span>);</span><br><span class="line">        &#125;,<span class="number">1000</span>);</span><br><span class="line">    &#125;).then(<span class="function"><span class="params">value</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'step 1-2'</span>);</span><br><span class="line">        <span class="keyword">return</span> value;</span><br><span class="line">    &#125;).then(<span class="function"><span class="params">value</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'step 1-3'</span>);</span><br><span class="line">        <span class="keyword">return</span> value;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;).then(<span class="function"><span class="params">value</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(value);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'step 2'</span>);</span><br><span class="line">&#125;); <span class="comment">// step 1  ï¼ˆå¼‚æ­¥è¾“å‡ºï¼šï¼‰ step 1-1  (é—´éš”ä¸€ç§’ï¼š)   step 1-2 step 1-3 110 step 2</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/// == &gt; å†…éƒ¨å±•å¼€</span></span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="params">resolve</span> =&gt;</span> &#123; <span class="comment">// [promise 1]</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'step 1'</span>);</span><br><span class="line">    setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        resolve(<span class="number">100</span>);</span><br><span class="line">    &#125;,<span class="number">1000</span>);</span><br><span class="line">&#125;).then(<span class="function"><span class="params">value</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="params">resolve</span> =&gt;</span> &#123;  <span class="comment">// [promise 2]</span></span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'step 1-1'</span>);</span><br><span class="line">        setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            resolve(<span class="number">110</span>);</span><br><span class="line">        &#125;,<span class="number">1000</span>);</span><br><span class="line"><span class="comment">// å±•å¼€ start</span></span><br><span class="line">&#125;).then(<span class="function"><span class="params">value</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'step 1-2'</span>);</span><br><span class="line">    <span class="keyword">return</span> value;</span><br><span class="line">&#125;).then(<span class="function"><span class="params">value</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'step 1-3'</span>);</span><br><span class="line">    <span class="keyword">return</span> value;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// å±•å¼€ end</span></span><br><span class="line"></span><br><span class="line">&#125;).then(<span class="function"><span class="params">value</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(value);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'step 2'</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</li>
</ul>
<ul>
<li><p>Promise.prototype.catch()<br>  Promise.prototype.catchæ–¹æ³•æ˜¯.then(null, rejection)çš„åˆ«åï¼Œç”¨äºæŒ‡å®šå‘ç”Ÿé”™è¯¯æ—¶çš„å›è°ƒå‡½æ•°ï¼Œè¿”å›ä¸€ä¸ªæ–°çš„ fulfilledçš„promiseï¼›<br>  ä¸€èˆ¬éƒ½æ˜¯å°†å‡½æ•°çš„é”™è¯¯å¤„ç†äº¤ä¸ªcatchç»Ÿä¸€å¤„ç†ï¼Œè€Œä¸æ˜¯rejectï¼›catchä¸ä»…å¯ä»¥æ•è·rejectedçŠ¶æ€çš„å‡½æ•°ï¼Œè¿˜å¯ä»¥æ•è·throw erroræŠ›å‡ºçš„é”™è¯¯</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// good</span></span><br><span class="line">promise</span><br><span class="line">.then(<span class="function"><span class="keyword">function</span>(<span class="params">data</span>) </span>&#123; <span class="comment">//cb</span></span><br><span class="line">    <span class="comment">// success</span></span><br><span class="line">&#125;)</span><br><span class="line">.catch(<span class="function"><span class="keyword">function</span>(<span class="params">err</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// error</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// #1  åœ¨executoré‡Œé¢æŠ›å‡ºå¼‚å¸¸</span></span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="params">resolve</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'executor err'</span>);</span><br><span class="line">&#125;).then(<span class="function"><span class="params">value</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(value +<span class="string">'err next'</span>);</span><br><span class="line">&#125;)</span><br><span class="line">.catch(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'err : '</span> + err.message);</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'next'</span>);</span><br><span class="line">&#125;); <span class="comment">// err : executor err -&gt;  next</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// # åœ¨timeoutå›è°ƒé‡Œé¢æŠ›å‡ºå¼‚å¸¸ï¼Œé‚£å°±å’ŒPromiseæ— å…³ï¼Œç³»ç»Ÿå¤„ç†å¼‚å¸¸</span></span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="params">resolve</span> =&gt;</span> &#123;</span><br><span class="line">    setTimeout(<span class="function"><span class="params">()</span>=&gt;</span>&#123;</span><br><span class="line">         <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'executor err'</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;).then(<span class="function"><span class="params">value</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(value +<span class="string">'err next'</span>);</span><br><span class="line">&#125;)</span><br><span class="line">.catch(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'err : '</span> + err.message);</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'next'</span>);</span><br><span class="line">&#125;); <span class="comment">// Uncaught Error: executor err ç³»ç»ŸæŠ›å‡ºæŠ¥é”™ï¼Œæ— æ³•æ‰§è¡Œä¸‹ä¸€æ­¥</span></span><br></pre></td></tr></table></figure>
<p>  å¦‚æœå¼‚æ­¥æ“ä½œæŠ›å‡ºé”™è¯¯ï¼ŒçŠ¶æ€å°±ä¼šå˜ä¸ºrejectedï¼Œå°±ä¼šè°ƒç”¨catchæ–¹æ³•æŒ‡å®šçš„å›è°ƒå‡½æ•°ï¼Œå¤„ç†è¿™ä¸ªé”™è¯¯ã€‚å¦å¤–ï¼Œthenæ–¹æ³•æŒ‡å®šçš„å›è°ƒå‡½æ•°ï¼Œå¦‚æœè¿è¡Œä¸­æŠ›å‡ºé”™è¯¯ï¼Œä¹Ÿä¼šè¢«catchæ–¹æ³•æ•è·ã€‚<br>  ä¸€èˆ¬æ¥è¯´ï¼Œä¸è¦åœ¨thenæ–¹æ³•é‡Œé¢å®šä¹‰ Reject çŠ¶æ€çš„å›è°ƒå‡½æ•°ï¼ˆå³thençš„ç¬¬äºŒä¸ªå‚æ•°ï¼‰ï¼Œæ€»æ˜¯ä½¿ç”¨catchæ–¹æ³•ã€‚</p>
</li>
<li>Promise.prototype.finally(onFinally)<br>æ·»åŠ ä¸€ä¸ªäº‹ä»¶å¤„ç†å›è°ƒäºå½“å‰promiseå¯¹è±¡ï¼Œå¹¶ä¸”åœ¨åŸpromiseå¯¹è±¡è§£æå®Œæ¯•åï¼Œè¿”å›ä¸€ä¸ªæ–°çš„promiseå¯¹è±¡ã€‚å›è°ƒä¼šåœ¨å½“å‰promiseè¿è¡Œå®Œæ¯•åè¢«è°ƒç”¨ï¼Œæ— è®ºå½“å‰promiseçš„çŠ¶æ€æ˜¯å®Œæˆ(fulfilled)è¿˜æ˜¯å¤±è´¥(rejected)ï¼Œè¯¥æ–¹æ³•æ˜¯ ES2018 å¼•å…¥æ ‡å‡†çš„ã€‚</li>
</ul>
<h3 id="Promiseå¯¹è±¡è‡ªå¸¦çš„å·¥å…·æ–¹æ³•"><a href="#Promiseå¯¹è±¡è‡ªå¸¦çš„å·¥å…·æ–¹æ³•" class="headerlink" title="Promiseå¯¹è±¡è‡ªå¸¦çš„å·¥å…·æ–¹æ³•"></a>Promiseå¯¹è±¡è‡ªå¸¦çš„å·¥å…·æ–¹æ³•</h3><ul>
<li><p>Promise.all([p1,p2,â€¦])<br>  Promise.allæ–¹æ³•ç”¨äºå°†å¤šä¸ª Promise å®ä¾‹ï¼ŒåŒ…è£…æˆä¸€ä¸ªæ–°çš„ Promise å®ä¾‹ã€‚çŠ¶æ€ï¼š å…¨çœŸä¸ºçœŸï¼Œä¸€å‡åˆ™å‡   é€»è¾‘ä¸çš„å…³ç³» &amp;&amp;<br>  å¦‚æœçŠ¶æ€ä¸º rejectedï¼Œ è¿”å›å€¼æ˜¯ç¬¬ä¸€ä¸ª<code>å¤±è´¥</code>çš„å­promiseçš„ç»“æœï¼›<br>  å¸¸è§ç”¨æ³•ï¼š </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Promise</span>.all( filter.map( <span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>();</span><br><span class="line">&#125;)).then().catch();</span><br></pre></td></tr></table></figure>
</li>
<li><p>Promise.race([p1,p2,â€¦])<br>  Promise.raceæ–¹æ³•åŒæ ·æ˜¯å°†å¤šä¸ª Promise å®ä¾‹ï¼ŒåŒ…è£…æˆä¸€ä¸ªæ–°çš„ Promise å®ä¾‹ã€‚çŠ¶æ€ç”±æœ€å…ˆæ”¹å˜çŠ¶æ€çš„Promiseå®ä¾‹å†³å®šçš„<br>  å¸¸è§ç”¨æ³•ï¼š æ“ä½œè¶…æ—¶</p>
</li>
<li><p>Promise.resolve()<br>  å°†ç°æœ‰å¯¹è±¡è½¬ä¸º Promise å¯¹è±¡</p>
</li>
<li><p>Promise.reject()<br>  Promise.reject(reason)æ–¹æ³•ä¹Ÿä¼šè¿”å›ä¸€ä¸ªæ–°çš„ Promise å®ä¾‹ï¼Œè¯¥å®ä¾‹çš„çŠ¶æ€ä¸ºrejectedã€‚</p>
</li>
</ul>
<h3 id="å…³äºpromiseçš„ç»å…¸é—®é¢˜"><a href="#å…³äºpromiseçš„ç»å…¸é—®é¢˜" class="headerlink" title="å…³äºpromiseçš„ç»å…¸é—®é¢˜"></a>å…³äºpromiseçš„ç»å…¸é—®é¢˜</h3><p>we have promise with promises (<a href="https://pouchdb.com/2015/05/18/we-have-a-problem-with-promises.html" target="_blank" rel="noopener">https://pouchdb.com/2015/05/18/we-have-a-problem-with-promises.html</a>)<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// |-  doSomething å’Œ  doSomethingElse éƒ½æ˜¯è¿”å› pormiseå¯¹è±¡çš„å‡½æ•°</span></span><br><span class="line"><span class="comment">// #1</span></span><br><span class="line">doSomething().then(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> doSomethingElse();</span><br><span class="line">&#125;); <span class="comment">// doSomething -&gt; doSomething(undefined) -&gt; finalhander(resultOF_doSomethingElse)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// #2 NO return</span></span><br><span class="line">doSomething().then(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  doSomethingElse();</span><br><span class="line">&#125;);<span class="comment">// doSomething -&gt; [ doSomethingElse(undefined) , finalhander(undefined) ]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// #3 ç«‹å³æ‰§è¡Œ</span></span><br><span class="line">doSomething().then(doSomethingElse()); <span class="comment">// [doSomething(), doSomethingElse(undefined)] -&gt;   finalhander(resultOF_doSomething)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// #4 Just funtion -&gt;  as resolve callback</span></span><br><span class="line">doSomething().then(doSomethingElse); <span class="comment">//  doSomething -&gt; doSomething(undefined) -&gt; finalhander(resultOF_doSomethingElse)</span></span><br></pre></td></tr></table></figure></p>
<h4 id="å¦‚ä½•ä½¿ç”¨Promiseå®ç°é˜Ÿåˆ—"><a href="#å¦‚ä½•ä½¿ç”¨Promiseå®ç°é˜Ÿåˆ—" class="headerlink" title="å¦‚ä½•ä½¿ç”¨Promiseå®ç°é˜Ÿåˆ—"></a>å¦‚ä½•ä½¿ç”¨Promiseå®ç°é˜Ÿåˆ—</h4><pre><code>æœ‰æ—¶å€™æˆ‘ä»¬ä¸å¸Œæœ›æ‰€æœ‰åŠ¨ä½œä¸€èµ·å‘ç”Ÿï¼Œè€Œæ˜¯æŒ‰ç…§ä¸€å®šçš„é¡ºåºï¼Œé€ä¸ªæ‰§è¡Œï¼›
</code></pre><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// #1 ä½¿ç”¨ forEach ï¼Œåˆ›å»º promiseé˜Ÿåˆ—</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">queue</span>(<span class="params">thingsArr</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">let</span> pormise = <span class="built_in">Promise</span>.resolve();</span><br><span class="line">    thingsArr.forEach( <span class="function"><span class="params">thing</span> =&gt;</span> &#123;</span><br><span class="line">        pormise = pormise.then(<span class="function"><span class="params">()</span> =&gt;</span> &#123; <span class="comment">// !!!  pormise =    return new Promise</span></span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>( <span class="function"><span class="params">resolve</span> =&gt;</span> &#123;</span><br><span class="line">                doTings(thing, ()=&#123;</span><br><span class="line">                    resolve();</span><br><span class="line">                &#125;);</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line">    retrun promise;</span><br><span class="line">&#125;</span><br><span class="line">queue([thing01,thing03,thing03,thing04]); <span class="comment">//</span></span><br></pre></td></tr></table></figure>
<h2 id="Promiseè¿›é˜¶-Event-Loop"><a href="#Promiseè¿›é˜¶-Event-Loop" class="headerlink" title="Promiseè¿›é˜¶-Event Loop"></a>Promiseè¿›é˜¶-Event Loop</h2><pre><code class="javascript"><span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="params">resolve</span> =&gt;</span> {
    resolve(<span class="number">1</span>);
    <span class="comment">// Promise.resolve()</span>
    <span class="built_in">Promise</span>.resolve().then(<span class="function"><span class="params">()</span> =&gt;</span> <span class="built_in">console</span>.log(<span class="number">2</span>));
    <span class="built_in">console</span>.log(<span class="number">3</span>);
}).then(<span class="function"><span class="params">value</span> =&gt;</span> <span class="built_in">console</span>.log(value));
<span class="built_in">console</span>.log(<span class="number">4</span>);
<span class="comment">// æ‰§è¡Œé¡ºåº  3 4 2 1</span>
</code></pre>
<h3 id="ä»»åŠ¡é˜Ÿåˆ—"><a href="#ä»»åŠ¡é˜Ÿåˆ—" class="headerlink" title="ä»»åŠ¡é˜Ÿåˆ—"></a>ä»»åŠ¡é˜Ÿåˆ—</h3><p>JavaScriptè¯­è¨€çš„ä¸€å¤§ç‰¹ç‚¹å°±æ˜¯<code>å•çº¿ç¨‹</code>ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œ<code>åŒä¸€ä¸ªæ—¶é—´åªèƒ½åšä¸€ä»¶äº‹</code>,è¿™æ ·èƒ½æé«˜æ•ˆç‡;å•çº¿ç¨‹å°±æ„å‘³ç€ï¼Œæ‰€æœ‰ä»»åŠ¡éœ€è¦æ’é˜Ÿï¼Œå‰ä¸€ä¸ªä»»åŠ¡ç»“æŸï¼Œæ‰ä¼šæ‰§è¡Œåä¸€ä¸ªä»»åŠ¡ã€‚å¦‚æœå‰ä¸€ä¸ªä»»åŠ¡è€—æ—¶å¾ˆé•¿ï¼Œåä¸€ä¸ªä»»åŠ¡å°±ä¸å¾—ä¸ä¸€ç›´ç­‰ç€ã€‚</p>
<p>ä»»åŠ¡å¯ä»¥åˆ†æˆä¸¤ç§ï¼Œä¸€ç§æ˜¯<code>åŒæ­¥ä»»åŠ¡ï¼ˆsynchronousï¼‰</code>ï¼Œå¦ä¸€ç§æ˜¯<code>å¼‚æ­¥ä»»åŠ¡ï¼ˆasynchronousï¼‰</code>ã€‚åŒæ­¥ä»»åŠ¡æŒ‡çš„æ˜¯ï¼Œåœ¨<code>ä¸»çº¿ç¨‹</code>ä¸Šæ’é˜Ÿæ‰§è¡Œçš„ä»»åŠ¡ï¼Œåªæœ‰å‰ä¸€ä¸ªä»»åŠ¡æ‰§è¡Œå®Œæ¯•ï¼Œæ‰èƒ½æ‰§è¡Œåä¸€ä¸ªä»»åŠ¡ï¼›å¼‚æ­¥ä»»åŠ¡æŒ‡çš„æ˜¯ï¼Œä¸è¿›å…¥ä¸»çº¿ç¨‹ã€è€Œè¿›å…¥â€ä»»åŠ¡é˜Ÿåˆ—â€ï¼ˆtask queueï¼‰çš„ä»»åŠ¡ï¼Œåªæœ‰<code>&quot;ä»»åŠ¡é˜Ÿåˆ—&quot;é€šçŸ¥ä¸»çº¿ç¨‹</code>ï¼ŒæŸä¸ªå¼‚æ­¥ä»»åŠ¡å¯ä»¥æ‰§è¡Œäº†ï¼Œè¯¥ä»»åŠ¡æ‰ä¼šè¿›å…¥ä¸»çº¿ç¨‹æ‰§è¡Œã€‚</p>
<p>å¼‚æ­¥æ‰§è¡Œçš„è¿è¡Œæœºåˆ¶å¦‚ä¸‹:ï¼ˆåŒæ­¥æ‰§è¡Œä¹Ÿæ˜¯å¦‚æ­¤ï¼Œå› ä¸ºå®ƒå¯ä»¥è¢«è§†ä¸ºæ²¡æœ‰å¼‚æ­¥ä»»åŠ¡çš„å¼‚æ­¥æ‰§è¡Œã€‚ï¼‰</p>
<ol>
<li>æ‰€æœ‰åŒæ­¥ä»»åŠ¡éƒ½åœ¨ä¸»çº¿ç¨‹ä¸Šæ‰§è¡Œï¼Œå½¢æˆä¸€ä¸ªæ‰§è¡Œæ ˆï¼ˆexecution context stackï¼‰ã€‚</li>
<li>ä¸»çº¿ç¨‹ä¹‹å¤–ï¼Œè¿˜å­˜åœ¨ä¸€ä¸ªâ€ä»»åŠ¡é˜Ÿåˆ—â€ï¼ˆtask queueï¼‰ã€‚åªè¦å¼‚æ­¥ä»»åŠ¡æœ‰äº†è¿è¡Œç»“æœï¼Œå°±åœ¨â€ä»»åŠ¡é˜Ÿåˆ—â€ä¹‹ä¸­æ”¾ç½®ä¸€ä¸ªäº‹ä»¶ã€‚</li>
<li>ä¸€æ—¦â€æ‰§è¡Œæ ˆâ€ä¸­çš„æ‰€æœ‰åŒæ­¥ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ï¼Œç³»ç»Ÿå°±ä¼šè¯»å–â€ä»»åŠ¡é˜Ÿåˆ—â€ï¼Œçœ‹çœ‹é‡Œé¢æœ‰å“ªäº›äº‹ä»¶ã€‚é‚£äº›å¯¹åº”çš„å¼‚æ­¥ä»»åŠ¡ï¼Œäºæ˜¯ç»“æŸç­‰å¾…çŠ¶æ€ï¼Œè¿›å…¥æ‰§è¡Œæ ˆï¼Œå¼€å§‹æ‰§è¡Œã€‚</li>
<li>åªè¦ä¸»çº¿ç¨‹ç©ºäº†ï¼Œä¸»çº¿ç¨‹ä¸æ–­é‡å¤ä¸Šé¢çš„ç¬¬ä¸‰æ­¥ï¼Œè¯»å–â€ä»»åŠ¡é˜Ÿåˆ—â€ï¼›</li>
</ol>
<h4 id="å¼‚æ­¥ä»»åŠ¡çš„åˆ†ç±»"><a href="#å¼‚æ­¥ä»»åŠ¡çš„åˆ†ç±»" class="headerlink" title="å¼‚æ­¥ä»»åŠ¡çš„åˆ†ç±»"></a>å¼‚æ­¥ä»»åŠ¡çš„åˆ†ç±»</h4><p>å¼‚æ­¥ä»»åŠ¡å¯ä»¥åˆ†ä¸ºä¸¤ç±»ï¼Œ<code>macrotask(å®ä»»åŠ¡)</code>ï¼Œ<code>microtask(å¾®ä»»åŠ¡)</code></p>
<p><em>macrotask</em> åŒ…å«ï¼šscript(æ•´ä½“ä»£ç )ã€setTimeoutã€setIntervalã€I/Oã€UIäº¤äº’äº‹ä»¶ã€postMessage ã€requestAnimationFrame ã€MessageChannelã€etImmediate(Node.js ç¯å¢ƒ)<br><em>microtask</em> åŒ…å«ï¼šPromise.thenã€MutaionObserverã€process.nextTick(Node.js ç¯å¢ƒ)</p>
<h3 id="Event-Loop"><a href="#Event-Loop" class="headerlink" title="Event Loop"></a>Event Loop</h3><p>ä¸»çº¿ç¨‹ä»<code>&quot;ä»»åŠ¡é˜Ÿåˆ—&quot;</code>ä¸­è¯»å–äº‹ä»¶ï¼Œè¿™ä¸ªè¿‡ç¨‹æ˜¯å¾ªç¯ä¸æ–­çš„ï¼Œæ‰€ä»¥æ•´ä¸ªçš„è¿™ç§è¿è¡Œæœºåˆ¶åˆç§°ä¸ºEvent Loopï¼ˆäº‹ä»¶å¾ªç¯ï¼‰ã€‚</p>
<p>äº‹ä»¶å¾ªç¯åŸºäºä»»åŠ¡é˜Ÿåˆ—ï¼ŒEventLoopä¸­ï¼Œå¯ä»¥æœ‰<code>å¤šä¸ªä»»åŠ¡é˜Ÿåˆ—</code>ï¼Œä»»åŠ¡é˜Ÿåˆ—æ˜¯ä»»åŠ¡(task)çš„é›†åˆï¼Œæ¯ä¸€ä¸ªä»»åŠ¡éƒ½æ‹¥æœ‰ä¸€ä¸ªä»»åŠ¡æº(task source), åŒä¸€ä¸ªtask source(ä»»åŠ¡æº)å¿…é¡»æ”¾åœ¨åŒä¸€ä¸ªtask queue(ä»»åŠ¡é˜Ÿåˆ—)ä¸­ã€‚</p>
<p>äº‹ä»¶å¾ªç¯ä¸­ï¼Œæ¯è¿›è¡Œä¸€æ¬¡å¾ªç¯ç§°ä¸ºtickã€‚æ¯ä¸€æ¬¡tickå¤„ç†çš„æ–¹å¼è§„åˆ™å¦‚ä¸‹ï¼š</p>
<ol>
<li>æ¯ä¸€æ¬¡tick(äº‹ä»¶å¾ªç¯)å¯¹äºä»»åŠ¡é˜Ÿåˆ—æ˜¯å…ˆè¿›å…ˆå‡ºï¼ˆæ‰§è¡Œæœ€å…ˆè¿›å…¥ä»»åŠ¡é˜Ÿåˆ—çš„ä»»åŠ¡ï¼Œæ‰€ä»¥ç§°ä¸ºé˜Ÿåˆ—ï¼‰ã€‚</li>
<li><p>æ¯ä¸€æ¬¡å®è·µå¾ªç¯ç»“æŸåï¼Œä¼šä¼˜å…ˆæ£€æŸ¥microtasks(å¾®ä»»åŠ¡)ï¼Œå¦‚æœå­˜åœ¨ä¼šä¸æ–­æ‰§è¡Œï¼Œæ¸…ç©ºmicrotasks queueã€‚</p>
<img src="/blog/2018/04/01/promiseå¯¹è±¡/eventloop.png" title="[å›¾è§£ï¼šç”±ä¸Šå›¾å¯çŸ¥ï¼Œä¸åŒçš„ä»»åŠ¡æ˜¯è¿›å…¥ä¸åŒçš„ä»»åŠ¡é˜Ÿåˆ—æ‰§è¡Œï¼Œ call stackæ˜¯ä¸»çº¿ç¨‹]">
</li>
</ol>
<h3 id="å®šæ—¶å™¨"><a href="#å®šæ—¶å™¨" class="headerlink" title="å®šæ—¶å™¨"></a>å®šæ—¶å™¨</h3><p>æ³¨æ„ï¼šsetTimeoutï¼ŒsetIntervarç¬¬äºŒä¸ªå‚æ•°æ—¶é—´çš„å…·ä½“å«ä¹‰æŒ‡çš„æ˜¯ï¼Œç­‰å¾…è¿›å…¥macrotaskï¼ˆé˜Ÿåˆ—çš„æ—¶é—´ï¼‰ï¼Œè€Œä¸æ˜¯ç­‰å¾…æ‰§è¡Œçš„æ—¶é—´ğŸ•™ã€‚å¦‚æœä¸»çº¿ç¨‹çš„æ‰§è¡Œï¼Œå‘ç”Ÿäº†é•¿æ—¶é—´çš„é˜»å¡ï¼Œé‚£ä¹ˆå¯èƒ½ä¼šç…§æˆä¸€ç§ç»“æœå°±æ˜¯ä¸¤ä¸ªä¸åŒç­‰å¾…æ—¶é—´çš„setTimeoutå¯èƒ½ä¼šåœ¨é˜»å¡ä¹‹åï¼Œæ‰§è¡Œä¼šç´§æŒ¨åœ¨ä¸€èµ·</p>
<p>å°†setTimeoutæ’å…¥macrotask queueä¸­ï¼ŒsetTimeoutçš„å»¶è¿Ÿæ—¶é—´æŒ‡çš„æ˜¯ï¼ŒsetTimeoutæ’å…¥macrotask queueçš„å»¶è¿Ÿæ—¶é—´</p>
<pre><code class="javascript"><span class="keyword">for</span> ( <span class="keyword">var</span> i = <span class="number">0</span>;i&lt;<span class="number">5</span>; i++) {
    <span class="built_in">console</span>.log(i);
}<span class="comment">// ç›´æ¥è¾“å‡ºä¸º0,1,2,3,4</span>

<span class="keyword">for</span>( <span class="keyword">var</span> i = <span class="number">0</span>;i&lt;<span class="number">5</span>;i++) {
    setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{
        <span class="built_in">console</span>.log(i);
    },<span class="number">1000</span>*i)
} <span class="comment">// å…ˆè¾“å‡ºä¸€ä¸ª 5ï¼Œå†æ¯ä¸ªä¸€ç§’è¾“å‡ºå‰©ä¸‹çš„4ä¸ª 5</span>

<span class="keyword">for</span>( <span class="keyword">var</span> i = <span class="number">0</span>;i&lt;<span class="number">5</span>;i++) {
    (<span class="function"><span class="keyword">function</span>(<span class="params">i</span>)</span>{
        setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{
            <span class="built_in">console</span>.log(i);
        },<span class="number">1000</span>)
    })(i);
}<span class="comment">// æ¯éš”ä¸€ç§’è¾“å‡ºi</span>

</code></pre>
<p>å‚è€ƒé“¾æ¥ï¼š<br><a href="http://es6.ruanyifeng.com/#docs/promise" target="_blank" rel="noopener">ã€ŠECMAScript 6 å…¥é—¨ã€‹ä¹‹Promiseå¯¹è±¡</a><br><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noopener">MDN- Promise</a><br><a href="https://segmentfault.com/a/1190000007685095" target="_blank" rel="noopener">[es6ç³»åˆ—]å­¦ä¹ Promise</a><br><a href="http://www.ruanyifeng.com/blog/2014/10/event-loop.html" target="_blank" rel="noopener">é˜®ä¸€å³°-JavaScript è¿è¡Œæœºåˆ¶è¯¦è§£ï¼šå†è°ˆEvent Loop</a><br><a href="https://bengbu-yuezhang.github.io/2018/03/08/EventLoop/" target="_blank" rel="noopener">zhangyue-äº‹ä»¶å¾ªç¯</a></p>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/blog/tags/ES6/" rel="tag"># ES6</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/blog/2018/03/27/å›¾è§£ES5çš„åŸå‹/" rel="next" title="å›¾è§£ES5çš„åŸå‹">
                <i class="fa fa-chevron-left"></i> å›¾è§£ES5çš„åŸå‹
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/blog/2018/04/01/å¦‚ä½•å®ç°ç»„ä»¶åŒ–/" rel="prev" title="ç»„ä»¶çš„è®¾è®¡ä¸åˆ’åˆ†">
                ç»„ä»¶çš„è®¾è®¡ä¸åˆ’åˆ† <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            æ–‡ç« ç›®å½•
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            ç«™ç‚¹æ¦‚è§ˆ
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">TigerZ</p>
              <p class="site-description motion-element" itemprop="description">ä¸å¯æè¿°</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/blog/archives/">
              
                  <span class="site-state-item-count">18</span>
                  <span class="site-state-item-name">æ—¥å¿—</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/blog/tags/index.html">
                  <span class="site-state-item-count">7</span>
                  <span class="site-state-item-name">æ ‡ç­¾</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#è®¤è¯†Pormise"><span class="nav-number">1.</span> <span class="nav-text">è®¤è¯†Pormise</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ä¸ºä»€ä¹ˆä¼šæœ‰promiseï¼Ÿ"><span class="nav-number">2.</span> <span class="nav-text">ä¸ºä»€ä¹ˆä¼šæœ‰promiseï¼Ÿ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#PormiseåŸºæœ¬ç”¨æ³•"><span class="nav-number">3.</span> <span class="nav-text">PormiseåŸºæœ¬ç”¨æ³•</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#PromiseåŸå‹ä¸Šå¸¸è§çš„æ–¹æ³•"><span class="nav-number">4.</span> <span class="nav-text">PromiseåŸå‹ä¸Šå¸¸è§çš„æ–¹æ³•</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Promiseå¯¹è±¡è‡ªå¸¦çš„å·¥å…·æ–¹æ³•"><span class="nav-number">5.</span> <span class="nav-text">Promiseå¯¹è±¡è‡ªå¸¦çš„å·¥å…·æ–¹æ³•</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#å…³äºpromiseçš„ç»å…¸é—®é¢˜"><span class="nav-number">6.</span> <span class="nav-text">å…³äºpromiseçš„ç»å…¸é—®é¢˜</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#å¦‚ä½•ä½¿ç”¨Promiseå®ç°é˜Ÿåˆ—"><span class="nav-number">6.1.</span> <span class="nav-text">å¦‚ä½•ä½¿ç”¨Promiseå®ç°é˜Ÿåˆ—</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Promiseè¿›é˜¶-Event-Loop"><span class="nav-number"></span> <span class="nav-text">Promiseè¿›é˜¶-Event Loop</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#ä»»åŠ¡é˜Ÿåˆ—"><span class="nav-number">1.</span> <span class="nav-text">ä»»åŠ¡é˜Ÿåˆ—</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#å¼‚æ­¥ä»»åŠ¡çš„åˆ†ç±»"><span class="nav-number">1.1.</span> <span class="nav-text">å¼‚æ­¥ä»»åŠ¡çš„åˆ†ç±»</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Event-Loop"><span class="nav-number">2.</span> <span class="nav-text">Event Loop</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#å®šæ—¶å™¨"><span class="nav-number">3.</span> <span class="nav-text">å®šæ—¶å™¨</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">TigerZ</span>

  
</div>


  <div class="powered-by">ç”± <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> å¼ºåŠ›é©±åŠ¨</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">ä¸»é¢˜ &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Gemini</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/blog/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/blog/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/blog/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/blog/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/blog/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/blog/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/blog/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/blog/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/blog/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/blog/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/blog/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/blog/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/blog/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
